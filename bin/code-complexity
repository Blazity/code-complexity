#!/usr/bin/env node

const cli = require("../src/cli");
const { displayResult } = require("../src/output");
const { computeComplexity } = require("../src/code-complexity");

if (!cli.args || !cli.args.length) {
  cli.help();
  process.exit(0);
}

const directory = cli.args[0];
computeComplexity(directory, cli).then(filesComplexity => {
  displayResult(filesComplexity, cli);
});
